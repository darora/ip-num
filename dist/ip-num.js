// [ip-num]  Version: 1.4.0-0. Released on: Friday, April 15th, 2022, 7:17:36 AM  
 var ipnum=function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchingBitCount=e.intLog2=e.cidrPrefixToMaskBinaryString=e.leftPadWithZeroBit=e.dottedDecimalNotationToBinaryString=e.parseBinaryStringToBigInt=e.decimalNumberToOctetString=e.numberToBinaryString=void 0,e.numberToBinaryString=t=>t.toString(2),e.decimalNumberToOctetString=t=>{let r=e.numberToBinaryString(t);if(r.length>8)throw new Error("Given decimal in binary contains digits greater than an octet");return e.leftPadWithZeroBit(r,8)},e.parseBinaryStringToBigInt=t=>BigInt("0b"+t),e.dottedDecimalNotationToBinaryString=t=>t.split(".").reduce((t,r)=>t.concat(e.decimalNumberToOctetString(parseInt(r))),""),e.leftPadWithZeroBit=(t,e)=>{if(t.length>e)throw new Error("Given string is already longer than given final length after padding: "+e);return"0".repeat(e-t.length).concat(t)},e.cidrPrefixToMaskBinaryString=(t,e)=>{let r;if(r="IPv4"==e?32:128,t>r)throw Error("Value is greater than "+r);return`${"1".repeat(t)}${"0".repeat(r-t)}`},e.intLog2=t=>{let e=0;for(;t%2n===0n;){if(2n===t){e++;break}if((t>>=1n)%2n!==0n){e=0;break}e++}if(0==e)throw new Error(`The value of log2 for ${t.toString()} is not an integer`);return e},e.matchingBitCount=(t,e)=>{let r,i;t.length>=e.length?(r=t,i=e):(r=e,i=t);let n=0;for(;n<r.length&&r.charAt(n)===i.charAt(n);n++);return n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Validator=void 0;const i=r(0),n=r(0),a=r(10),o=r(3),s=r(2),u=r(2);class l{static isWithinRange(t,e,r){return t>=e&&t<=r}static isValidAsnNumber(t){let e=this.isWithinRange(t,0n,this.THIRTY_TWO_BIT_SIZE);return[e,e?[]:[l.invalidAsnRangeMessage]]}static isValid16BitAsnNumber(t){let e=l.isWithinRange(t,0n,l.SIXTEEN_BIT_SIZE);return[e,e?[]:[l.invalid16BitAsnRangeMessage]]}static isValidIPv4Number(t){t="bigint"==typeof t?t:BigInt(t);let e=this.isWithinRange(t,0n,this.THIRTY_TWO_BIT_SIZE);return e?[e,[]]:[e,[l.invalidIPv4NumberMessage]]}static isValidIPv6Number(t){let e=this.isWithinRange(t,0n,this.ONE_HUNDRED_AND_TWENTY_EIGHT_BIT_SIZE);return e?[e,[]]:[e,[l.invalidIPv6NumberMessage]]}static isValidIPv4Octet(t){let e=this.isWithinRange(t,0n,this.EIGHT_BIT_SIZE);return[e,e?[]:[l.invalidOctetRangeMessage]]}static isValidIPv6Hexadecatet(t){let e=this.isWithinRange(t,0n,this.SIXTEEN_BIT_SIZE);return e?[e,[]]:[e,[l.invalidHexadecatetMessage]]}static isValidIPv4String(t){let e=t.split(".");if(4!=e.length||e.includes(""))return[!1,[l.invalidOctetCountMessage]];let r=e.every(t=>!!l.isNumeric(t)&&l.isValidIPv4Octet(BigInt(t))[0]);return r?(r=l.IPV4_PATTERN.test(t),[r,r?[]:[l.invalidIPv4PatternMessage]]):[!1,[l.invalidOctetRangeMessage]]}static isValidIPv6String(t){try{let e=o.expandIPv6Number(t).split(":");if(8!=e.length)return[!1,[l.invalidHexadecatetCountMessage]];let r=e.every(t=>!!l.isHexadecatet(t)&&l.isValidIPv6Hexadecatet(BigInt("0x"+t))[0]);return r?(r=l.IPV6_PATTERN.test(t),[r,r?[]:[l.invalidIPv6PatternMessage]]):[!1,[l.invalidHexadecatetMessage]]}catch(t){return[!1,[t]]}}static isValidPrefixValue(t,e){if("IPv4"===e){let e=l.isWithinRange(BigInt(t),0n,32n);return[e,e?[]:[l.invalidPrefixValueMessage]]}if("IPv6"===e){let e=l.isWithinRange(BigInt(t),0n,128n);return[e,e?[]:[l.invalidPrefixValueMessage]]}return[!1,[l.invalidInetNumType]]}static isValidIPv4Mask(t){let e=i.dottedDecimalNotationToBinaryString(t),r=l.IPV4_CONTIGUOUS_MASK_BIT_PATTERN.test(e);return r?[r,[]]:[r,[l.invalidMaskMessage]]}static isValidIPv6Mask(t){let e=u.hexadectetNotationToBinaryString(t),r=l.IPV6_CONTIGUOUS_MASK_BIT_PATTERN.test(e);return r?[r,[]]:[r,[l.invalidMaskMessage]]}static isValidIPv4CidrNotation(t){let e=t.split("/");if(2!==e.length||0===e[0].length||0===e[1].length)return[!1,[l.invalidIPv4CidrNotationMessage]];let r=e[0],i=e[1];if(isNaN(Number(i)))return[!1,[l.invalidIPv4CidrNotationMessage]];let[n,a]=l.isValidIPv4String(r),[o,s]=l.isValidPrefixValue(BigInt(i),"IPv4"),u=n&&o,g=a.concat(s);return u?[u,[]]:[u,g]}static isValidIPv4CidrRange(t){return l.isValidCidrRange(t,l.isValidIPv4CidrNotation,i.dottedDecimalNotationToBinaryString,t=>n.cidrPrefixToMaskBinaryString(t,"IPv4"))}static isValidIPv6CidrRange(t){return l.isValidCidrRange(t,l.isValidIPv6CidrNotation,s.colonHexadecimalNotationToBinaryString,t=>n.cidrPrefixToMaskBinaryString(t,"IPv6"))}static isValidCidrRange(t,e,r,i){let n=e(t);if(!n[0])return n;let o=t.split("/"),s=o[0],u=o[1],g=a(r(s),2),h=a(i(parseInt(u)),2),p=g.and(h).equals(g);return p?[p,[]]:[p,[l.InvalidIPCidrRangeMessage]]}static isValidIPv4RangeString(t){return this.isValidRange(t,l.isValidIPv4String,(t,e)=>a(i.dottedDecimalNotationToBinaryString(t)).greaterOrEquals(i.dottedDecimalNotationToBinaryString(e)))}static isValidIPv6RangeString(t){return this.isValidRange(t,l.isValidIPv6String,(t,e)=>a(u.hexadectetNotationToBinaryString(t)).greaterOrEquals(u.hexadectetNotationToBinaryString(e)))}static isValidRange(t,e,r){let i=t.split("-").map(t=>t.trim());if(2!==i.length||0===i[0].length||0===i[1].length)return[!1,[l.invalidRangeNotationMessage]];let n=i[0],a=i[1],[o,s]=e(n),[u,g]=e(a),h=o&&u;if(h&&r(n,a))return[!1,[l.invalidRangeFirstNotGreaterThanLastMessage]];let p=s.concat(g);return h?[h,[]]:[h,p]}static isValidIPv6CidrNotation(t){let e=l.IPV6_RANGE_PATTERN.test(t);return e?[e,[]]:[e,[l.invalidIPv6CidrNotationString]]}static isValidBinaryString(t){return/^([10])+$/.test(t)?[!0,[]]:[!1,[l.invalidBinaryStringErrorMessage]]}static isNumeric(t){return/^(\d+)$/.test(t)}static isHexadecatet(t){return/^[0-9A-Fa-f]{4}$/.test(t)}}e.Validator=l,l.IPV4_PATTERN=new RegExp(/^(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/),l.IPV6_PATTERN=new RegExp(/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/),l.IPV4_RANGE_PATTERN=new RegExp(/^(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(\/)([1-9]|[1-2][0-9]|3[0-2])$/),l.IPV6_RANGE_PATTERN=new RegExp(/^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))?$/),l.IPV4_CONTIGUOUS_MASK_BIT_PATTERN=new RegExp(/^(1){0,32}(0){0,32}$/),l.IPV6_CONTIGUOUS_MASK_BIT_PATTERN=new RegExp(/^(1){0,128}(0){0,128}$/),l.EIGHT_BIT_SIZE=BigInt("0b"+"1".repeat(8)),l.SIXTEEN_BIT_SIZE=BigInt("0b"+"1".repeat(16)),l.THIRTY_TWO_BIT_SIZE=BigInt("0b"+"1".repeat(32)),l.ONE_HUNDRED_AND_TWENTY_EIGHT_BIT_SIZE=BigInt("0b"+"1".repeat(128)),l.IPV4_SIZE=BigInt("4294967296"),l.IPV6_SIZE=BigInt("340282366920938463463374607431768211456"),l.invalidAsnRangeMessage="ASN number given less than zero or is greater than 32bit",l.invalid16BitAsnRangeMessage="ASN number given less than zero or is greater than 16bit",l.invalidIPv4NumberMessage="IPv4 number given less than zero or is greater than 32bit",l.invalidIPv6NumberMessage="IPv6 number given less than zero or is greater than 128bit",l.invalidOctetRangeMessage="Value given contains an invalid Octet; Value is less than zero or is greater than 8bit",l.invalidHexadecatetMessage="The value given is less than zero or is greater than 16bit",l.invalidOctetCountMessage="An IP4 number cannot have less or greater than 4 octets",l.invalidHexadecatetCountMessage="An IP6 number must have exactly 8 hexadecatet",l.invalidMaskMessage="The Mask is invalid",l.invalidPrefixValueMessage="A Prefix value cannot be less than 0 or greater than 32",l.invalidIPv4CidrNotationMessage="Cidr notation should be in the form [ip number]/[range]",l.InvalidIPCidrRangeMessage="Given IP number portion must is not the start of the range",l.invalidRangeNotationMessage="Range notation should be in the form [first ip]-[last ip]",l.invalidRangeFirstNotGreaterThanLastMessage="First IP in [first ip]-[last ip] must be less than Last IP",l.invalidIPv6CidrNotationString="A Cidr notation string should contain an IPv6 number and prefix",l.takeOutOfRangeSizeMessage="$count is greater than $size, the size of the range",l.cannotSplitSingleRangeErrorMessage="Cannot split an IP range with a single IP number",l.invalidInetNumType="Given ipNumType must be either InetNumType.IPv4 or InetNumType.IPv6",l.invalidBinaryStringErrorMessage="Binary string should contain only contiguous 1s and 0s",l.invalidIPRangeSizeMessage="Given size is zero or greater than maximum size of $iptype",l.invalidIPRangeSizeForCidrMessage="Given size can't be created via cidr prefix",l.invalidIPv4PatternMessage="Given IPv4 is not confirm to a valid IPv6 address",l.invalidIPv6PatternMessage="Given IPv6 is not confirm to a valid IPv6 address"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexadectetNotationToBinaryString=e.binaryStringToHexadecimalString=e.colonHexadecimalNotationToBinaryString=e.hexadecimalStringToHexadecatetString=e.hexadecimalStringToBinaryString=e.bigIntToHexadecimalString=void 0;const i=r(3),n=r(0);e.bigIntToHexadecimalString=t=>t.toString(16),e.hexadecimalStringToBinaryString=t=>BigInt("0x"+t).toString(2),e.hexadecimalStringToHexadecatetString=t=>{let r=e.hexadecimalStringToBinaryString(t);if(r.length>16)throw new Error("Given decimal in binary contains digits greater than an Hexadecatet");return n.leftPadWithZeroBit(r,16)},e.colonHexadecimalNotationToBinaryString=t=>i.expandIPv6Number(t).split(":").reduce((t,r)=>t.concat(e.hexadecimalStringToHexadecatetString(r)),""),e.binaryStringToHexadecimalString=t=>BigInt("0b"+t).toString(16),e.hexadectetNotationToBinaryString=t=>i.expandIPv6Number(t).split(":").reduce((t,r)=>t.concat(n.leftPadWithZeroBit(e.hexadecimalStringToBinaryString(r),16)),"")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.collapseIPv6Number=e.expandIPv6Number=void 0;const i=r(0),n=r(1);let a=t=>t.includes("/")?"/"+t.split("/")[1]:"";e.expandIPv6Number=t=>{let e=t=>t.map(t=>i.leftPadWithZeroBit(t,4)).join(":");if(/(:){3,}/.test(t))throw"given IPv6 contains consecutive : more than two";const r=a(t);if(t.includes("/")&&(t=t.split("/")[0]),!n.Validator.IPV6_PATTERN.test(t))throw Error(n.Validator.invalidIPv6PatternMessage);if(t.includes("::")){let i=t.split("::"),n=i[0],a=i[1],o=n.split(":").filter(t=>""!==t),s=a.split(":").filter(t=>""!==t),u=(t=>{let e=[];for(let r=0;r<t;r++)e.push("0000");return e.join(":")})(8-(o.length+s.length)),l=e(o);""!==l&&(l+=":");let g=e(s);return""!==g&&(g=":"+g),`${l}${u}${g}${r}`}return`${e(t.split(":"))}${r}`},e.collapseIPv6Number=t=>{const e=a(t);if(t.includes("/")&&(t=t.split("/")[0]),!n.Validator.IPV6_PATTERN.test(t))throw Error(n.Validator.invalidIPv6PatternMessage);let r=t.split(":").map(t=>{let e=t.replace(/^0+/,"");return""!==e?e:"0"}).join(":").replace(/((^0)?(:0){2,}|(^0)(:0){1,})/,":");return":"===r.slice(-1)?`${r}:${e}`:(r=r.replace(":0:","::"),`${r}${e}`)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hexadecatet=void 0;const i=r(1);class n{constructor(t){let e;e="string"==typeof t?parseInt(t,16):parseInt(String(t),16);let[r,n]=i.Validator.isValidIPv6Hexadecatet(BigInt(e));if(!r)throw Error(n.filter(t=>""!==t).toString());this.value=e}static fromString(t){return new n(t)}static fromNumber(t){return new n(t)}getValue(){return this.value}toString(){return this.value.toString(16)}}e.Hexadecatet=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isIPv4=e.IPv6Mask=e.IPv4Mask=e.IPv6=e.Asn=e.IPv4=e.AbstractIPNum=void 0;const i=r(7),n=r(1),a=r(0),o=r(0),s=r(0),u=r(0),l=r(4),g=r(2),h=r(3),p=r(2);class f{getValue(){return this.value}toBinaryString(){return s.leftPadWithZeroBit(this.value.toString(2),this.bitSize)}hasNext(){return this.value<this.maximumBitSize}hasPrevious(){return this.value>0n}isEquals(t){return this.value===t.value}isLessThan(t){return this.value<t.value}isGreaterThan(t){return this.value>t.value}isLessThanOrEquals(t){return this.value<=t.value}isGreaterThanOrEquals(t){return this.value>=t.value}}e.AbstractIPNum=f;class c extends f{constructor(t){if(super(),this.bitSize=32,this.maximumBitSize=n.Validator.THIRTY_TWO_BIT_SIZE,this.type="IPv4",this.octets=[],this.separator=".","string"==typeof t){let[e,r]=this.constructFromDecimalDottedString(t);this.value=e,this.octets=r}else{let[e,r]=this.constructFromBigIntValue(t);this.value=e,this.octets=r}}static fromNumber(t){return new c(t)}static fromDecimalDottedString(t){return new c(t)}static fromString(t){return c.fromDecimalDottedString(t)}static fromBinaryString(t){let e=n.Validator.isValidBinaryString(t);if(e[0])return new c(o.parseBinaryStringToBigInt(t));throw Error(e[1].join(","))}toString(){return this.octets.map(t=>t.toString()).join(this.separator)}getOctets(){return this.octets}nextIPNumber(){return c.fromNumber(this.getValue()+1n)}previousIPNumber(){return c.fromNumber(this.getValue()-1n)}toIPv4MappedIPv6(){let t="1".repeat(16)+this.toBinaryString();return v.fromBinaryString(t)}constructFromDecimalDottedString(t){let e,r,[o,s]=n.Validator.isValidIPv4String(t);if(!o)throw new Error(s.filter(t=>""!==t).toString());return e=t.split(".").map(t=>i.Octet.fromString(t)),r=BigInt("0b"+a.dottedDecimalNotationToBinaryString(t)),[r,e]}constructFromBigIntValue(t){let[e,r]=n.Validator.isValidIPv4Number(t);if(!e)throw new Error(r.filter(t=>""!==t).toString());let i=u.numberToBinaryString(t);return[t="bigint"==typeof t?t:BigInt(t),this.binaryStringToDecimalOctets(i)]}binaryStringToDecimalOctets(t){return t.length<32&&(t=s.leftPadWithZeroBit(t,32)),t.match(/.{1,8}/g).map(t=>i.Octet.fromString(o.parseBinaryStringToBigInt(t).toString()))}}e.IPv4=c;class d extends f{constructor(t){if(super(),this.bitSize=32,this.maximumBitSize=n.Validator.THIRTY_TWO_BIT_SIZE,this.type="ASN","string"==typeof t)d.startWithASPrefix(t)?this.value=BigInt(parseInt(t.substring(2))):-1!=t.indexOf(".")?this.value=BigInt(this.parseFromDotNotation(t)):this.value=BigInt(parseInt(t));else{let e=BigInt(t),[r,i]=n.Validator.isValidAsnNumber(e);if(!r)throw Error(i.filter(t=>""!==t).toString());this.value=e}}static fromString(t){return new d(t)}static fromNumber(t){return new d(t)}static fromBinaryString(t){let e=n.Validator.isValidBinaryString(t);if(e[0])return new d(parseInt(t,2));throw Error(e[1].join(","))}toString(){let t=this.value.toString();return`${d.AS_PREFIX}${t}`}toASPlain(){return this.value.toString()}toASDot(){return this.value.valueOf()>=65536n?this.toASDotPlus():this.toASPlain()}toASDotPlus(){let t=this.value.valueOf()/65535n;return`${t}.${this.value.valueOf()%65535n-t}`}toBinaryString(){return u.numberToBinaryString(this.value)}is16Bit(){let[t]=n.Validator.isValid16BitAsnNumber(this.value);return t}is32Bit(){return!this.is16Bit()}nextIPNumber(){return new d(this.value.valueOf()+1n)}previousIPNumber(){return new d(this.value.valueOf()-1n)}static startWithASPrefix(t){return 0===t.indexOf(d.AS_PREFIX)}parseFromDotNotation(t){let e=t.split("."),r=parseInt(e[0]);return 65535*r+(parseInt(e[1])+r)}}e.Asn=d,d.AS_PREFIX="AS";class v extends f{constructor(t){if(super(),this.bitSize=128,this.maximumBitSize=n.Validator.ONE_HUNDRED_AND_TWENTY_EIGHT_BIT_SIZE,this.type="IPv6",this.hexadecatet=[],this.separator=":","string"==typeof t){let e=h.expandIPv6Number(t),[r,i]=this.constructFromHexadecimalDottedString(e);this.value=r,this.hexadecatet=i}else{let[e,r]=this.constructFromBigIntValue(t);this.value=e,this.hexadecatet=r}}static fromBigInt(t){return new v(t)}static fromHexadecatet(t){return new v(t)}static fromString(t){return v.fromHexadecatet(t)}static fromBinaryString(t){let e=n.Validator.isValidBinaryString(t);if(e[0]){let e=s.leftPadWithZeroBit(t,128);return new v(o.parseBinaryStringToBigInt(e))}throw Error(e[1].join(","))}static fromIPv4(t){return t.toIPv4MappedIPv6()}static fromIPv4DotDecimalString(t){return new c(t).toIPv4MappedIPv6()}toString(){let t=this.hexadecatet.map(t=>t.toString()).join(":");return this.hexadecatet.length<8?"::"+t:t}getHexadecatet(){return this.hexadecatet}nextIPNumber(){return v.fromBigInt(this.getValue()+1n)}previousIPNumber(){return v.fromBigInt(this.getValue()-1n)}constructFromBigIntValue(t){let[e,r]=n.Validator.isValidIPv6Number(t);if(!e)throw new Error(r.filter(t=>""!==t).toString());let i=u.numberToBinaryString(t);return[t,this.binaryStringToHexadecatets(i)]}constructFromHexadecimalDottedString(t){let[e,r]=n.Validator.isValidIPv6String(t);if(!e)throw new Error(r.filter(t=>""!==t).toString());let i=t.split(":").map(t=>l.Hexadecatet.fromString(t));return[BigInt("0b"+p.hexadectetNotationToBinaryString(t)),i]}binaryStringToHexadecatets(t){let e=g.binaryStringToHexadecimalString(t);for(;e.length%4!=0;)e="0"+e;return e.match(/.{1,4}/g).map(t=>l.Hexadecatet.fromString(t))}}e.IPv6=v;class m extends c{constructor(t){let e,r;if(super(t),this.octets=[],[e,r]=n.Validator.isValidIPv4Mask(t),!e)throw new Error(r.filter(t=>""!==t).toString());let o=t.split(".");this.octets=o.map(t=>i.Octet.fromString(t));let s=a.dottedDecimalNotationToBinaryString(t);this.prefix=(s.match(/1/g)||[]).length,this.value=BigInt("0b"+s)}static fromDecimalDottedString(t){return new m(t)}}e.IPv4Mask=m;class y extends v{constructor(t){let e,r;if(super(t),this.hexadecatet=[],[e,r]=n.Validator.isValidIPv6Mask(t),!e)throw new Error(r.filter(t=>""!==t).toString());let i=t.split(":");this.hexadecatet=i.map(t=>l.Hexadecatet.fromString(t));let a=p.hexadectetNotationToBinaryString(t);this.prefix=(a.match(/1/g)||[]).length,this.value=BigInt("0b"+a),this.value=BigInt("0b"+p.hexadectetNotationToBinaryString(t))}static fromHexadecatet(t){return new y(t)}}e.IPv6Mask=y,e.isIPv4=function(t){return 32===t.bitSize}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isIPv4Prefix=e.IPv6Prefix=e.IPv4Prefix=void 0;const i=r(1),n=r(5),a=r(0),o=r(2),s=r(4);class u{constructor(t){let e,r;if(this.type="IPv4",this.bitValue=32n,[e,r]=i.Validator.isValidPrefixValue(t,"IPv4"),!e)throw new Error(r.filter(t=>""!==t).toString());this.value=t}static fromNumber(t){return new u(t)}static fromRangeSize(t){let e=1n===t?32:32-g(t,i.Validator.IPV4_SIZE);return u.fromNumber(BigInt(e))}getValue(){return this.value}toString(){return this.value.toString()}toMask(){let t="1".repeat(Number(this.value)),e="0".repeat(Number(32n-this.value));return n.IPv4Mask.fromDecimalDottedString(this.toDecimalNotation(`${t}${e}`))}toRangeSize(){return 1n<<this.bitValue-this.getValue()}merge(){return new u(this.value-1n)}split(){return new u(this.value+1n)}toDecimalNotation(t){return`${a.parseBinaryStringToBigInt(t.substr(0,8))}.${a.parseBinaryStringToBigInt(t.substr(8,8))}.${a.parseBinaryStringToBigInt(t.substr(16,8))}.${a.parseBinaryStringToBigInt(t.substr(24,8))}`}}e.IPv4Prefix=u;class l{constructor(t){let e,r;if(this.type="IPv6",this.bitValue=128n,[e,r]=i.Validator.isValidPrefixValue(t,"IPv6"),!e)throw new Error(r.filter(t=>""!==t).toString());this.value=t}static fromNumber(t){return new l(t)}static fromRangeSize(t){let e=1n===t?128:128-g(t,i.Validator.IPV6_SIZE);return l.fromNumber(BigInt(e))}getValue(){return this.value}toString(){return this.value.toString()}toMask(){let t="1".repeat(Number(this.value)),e="0".repeat(128-Number(this.value));return n.IPv6Mask.fromHexadecatet(this.toHexadecatetNotation(`${t}${e}`))}toRangeSize(){return 1n<<this.bitValue-this.getValue()}merge(){return new l(this.value-1n)}split(){return new l(this.value+1n)}toHexadecatetNotation(t){return t.match(/.{1,16}/g).map(t=>s.Hexadecatet.fromString(o.binaryStringToHexadecimalString(t))).map(t=>t.toString()).join(":")}}function g(t,e){let r=e>i.Validator.IPV4_SIZE?"IPv6":"IPv4";if(t>e||0n===t)throw new Error(i.Validator.invalidIPRangeSizeMessage.replace("$iptype",r));try{return a.intLog2(t)}catch(t){throw new Error(i.Validator.invalidIPRangeSizeForCidrMessage)}}e.IPv6Prefix=l,e.isIPv4Prefix=function(t){return"IPv4"===t.type}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Octet=void 0;const i=r(1);class n{constructor(t){let e;e="string"==typeof t?parseInt(t):t;let[r,n]=i.Validator.isValidIPv4Octet(BigInt(e));if(!r)throw Error(n.filter(t=>""!==t).toString());this.value=e}static fromString(t){return new n(t)}static fromNumber(t){return new n(t)}getValue(){return this.value}toString(){return this.value.toString(10)}}e.Octet=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isIPv4CidrRange=e.IPv6CidrRange=e.IPv4CidrRange=e.AbstractIPRange=e.RangedSet=void 0;const i=r(5),n=r(6),a=r(0),o=r(1);class s{constructor(t,e){if(this.first=t,this.last=e,t.isGreaterThan(e))throw new Error(`${t.toString()} should be lower than ${e.toString()}`);this.currentValue=t,this.bitValue=BigInt(t.bitSize)}static fromSingleIP(t){return new s(t,t)}static fromCidrRange(t){return new s(t.getFirst(),t.getLast())}static fromRangeString(t){let e=t.split("-").map(t=>t.trim());if(2!==e.length)throw new Error("Argument should be in the format firstip-lastip");let[r,n]=e,[a]=o.Validator.isValidIPv4String(r),[u]=o.Validator.isValidIPv4String(n),[l]=o.Validator.isValidIPv6String(r),[g]=o.Validator.isValidIPv6String(n);if(a&&u)return new s(i.IPv4.fromDecimalDottedString(r),i.IPv4.fromDecimalDottedString(n));if(l&&g)return new s(i.IPv6.fromHexadecatet(r),i.IPv6.fromHexadecatet(n));throw new Error("First IP and Last IP should be valid and same type")}getFirst(){return this.first}getLast(){return this.last}getSize(){return this.last.getValue()-this.first.getValue()+1n}toRangeString(){return`${this.getFirst()}-${this.getLast()}`}inside(t){return t.contains(this)}contains(t){let e=this.getFirst(),r=this.getLast(),i=t.getFirst(),n=t.getLast();return e.isLessThanOrEquals(i)&&r.isGreaterThanOrEquals(n)}isEquals(t){return this.getFirst().isEquals(t.getFirst())&&this.getLast().isEquals(t.getLast())}isLessThan(t){return!this.isEquals(t)&&(this.getFirst().isEquals(t.getFirst())?this.getSize()<t.getSize():this.getFirst().isLessThan(t.getFirst()))}isGreaterThan(t){return!this.isEquals(t)&&(this.getFirst().isEquals(t.getFirst())?this.getSize()>t.getSize():this.getFirst().isGreaterThan(t.getFirst()))}isOverlapping(t){let e=this.getFirst(),r=this.getLast(),i=t.getFirst(),n=t.getLast();return r.isGreaterThan(i)&&r.isLessThanOrEquals(n)&&e.isLessThan(i)||n.isGreaterThan(e)&&n.isLessThanOrEquals(r)&&i.isLessThan(e)}isCidrAble(){if(1n===this.getSize())return!0;try{let t=a.intLog2(this.getSize()),e=a.parseBinaryStringToBigInt(a.cidrPrefixToMaskBinaryString(t,i.isIPv4(this.currentValue)?"IPv4":"IPv6"));return this.first.getValue()===(e&this.first.getValue())}catch(t){return!1}}toCidrRange(){return i.isIPv4(this.currentValue)?this.toIPv4CidrRange():this.toIPv6CidrRange()}isConsecutive(t){let e=this.getFirst(),r=this.getLast(),i=t.getFirst(),n=t.getLast();return r.hasNext()&&r.nextIPNumber().isEquals(i)||n.hasNext()&&n.nextIPNumber().isEquals(e)}union(t){if(this.isEquals(t))return new s(t.getFirst(),t.getLast());if(this.isOverlapping(t))return this.getFirst().isLessThan(t.getFirst())?new s(this.getFirst(),t.getLast()):new s(t.getFirst(),this.getLast());if(this.contains(t))return new s(this.getFirst(),this.getLast());if(t.contains(this))return new s(t.getFirst(),t.getLast());throw new Error("Ranges do not overlap nor are equal")}prepend(t){if(t.getLast().nextIPNumber().isEquals(this.getFirst()))return new s(t.getFirst(),this.getLast());throw new Error("Range to prepend must be adjacent")}append(t){if(this.getLast().nextIPNumber().isEquals(t.getFirst()))return new s(this.getFirst(),t.getLast());throw new Error("Range to append must be adjacent")}subtract(t){if(!this.isOverlapping(t))throw new Error("Cannot subtract ranges that are not overlapping");if(!this.isLessThan(t))throw new Error("Cannot subtract a larger range from this range");return new s(this.getFirst(),t.getLast())}takeSubRange(t,e){if(t+e>this.getSize())throw new RangeError("Requested range is greater than what can be taken");if(0n===e)throw new Error("Sub range cannot be zero");let r=this.getFirst().value+t,n=i.isIPv4(this.getFirst())?i.IPv4.fromNumber(r):i.IPv6.fromBigInt(r),a=n.value+(e-1n),o=i.isIPv4(n)?i.IPv4.fromNumber(a):i.IPv6.fromBigInt(a);return new s(n,o)}difference(t){if(t.getSize()>this.getSize())throw new Error("Range is greater than range to be subtracted from");if(!this.contains(t))throw new Error("Range to subtract is not contained in this range");let e=[];try{e.push(new s(this.getFirst(),t.getFirst().previousIPNumber()))}catch(t){}try{e.push(new s(t.getLast().nextIPNumber(),this.getLast()))}catch(t){}return e}*take(t){let e=this.getFirst(),r=void 0===t?this.getSize().valueOf():t;for(;r>0;)r--,yield e,e=e.nextIPNumber()}*[Symbol.iterator](){yield*this.take()}toIPv4CidrRange(){let t=new l(i.IPv4.fromNumber(this.getFirst().getValue()),n.IPv4Prefix.fromRangeSize(this.getSize()));if(t.getFirst().isEquals(this.getFirst()))return t;throw new Error("Range cannot be converted to CIDR")}toIPv6CidrRange(){let t=new g(i.IPv6.fromBigInt(this.getFirst().getValue()),n.IPv6Prefix.fromRangeSize(this.getSize()));if(t.getFirst().isEquals(this.getFirst()))return t;throw new Error("Range cannot be converted to CIDR")}}e.RangedSet=s;class u{hasNextRange(){let t=this.getSize();return 2n**this.bitValue-t>=this.getFirst().getValue()+t}hasPreviousRange(){return this.getSize()<=this.getFirst().getValue()}toRangeSet(){return new s(this.getFirst(),this.getLast())}inside(t){return this.toRangeSet().inside(t.toRangeSet())}contains(t){return this.toRangeSet().contains(t.toRangeSet())}toRangeString(){return this.toRangeSet().toRangeString()}isOverlapping(t){return this.toRangeSet().isOverlapping(t.toRangeSet())}isConsecutive(t){return this.toRangeSet().isConsecutive(t.toRangeSet())}isCidrMergeable(t){let e=a.matchingBitCount(this.getFirst().toBinaryString(),t.getFirst().toBinaryString());return this.getPrefix().value-BigInt(e)===1n&&(this.isConsecutive(t)&&this.getSize()===t.getSize()&&(this.getFirst().getValue()&BigInt(e))==(t.getFirst().getValue()&BigInt(e)))}isMergeable(t){return this.isCidrMergeable(t)||this.contains(t)||this.inside(t)}isEquals(t){return this.toRangeSet().isEquals(t.toRangeSet())}merge(t){if(!this.isCidrMergeable(t))throw new Error(`Cannot merge. Ranges (${this.toRangeString()},${t.toRangeString()}) are not consecutive and/or of same size`);return this.newInstance(this.getFirst(),this.getPrefix().merge())}*takeStream(t){return this.toRangeSet().take(t)}*[Symbol.iterator](){yield*this.toRangeSet()}}e.AbstractIPRange=u;class l extends u{constructor(t,e){super(),this.ipv4=t,this.cidrPrefix=e,this.bitValue=32n}static fromCidr(t){let[e,r]=o.Validator.isValidIPv4CidrNotation(t);if(!e){let t=r.filter(t=>""!==t);throw new Error(t.join(" and "))}let a=t.split("/"),s=a[0],u=BigInt(parseInt(a[1]));return new l(i.IPv4.fromDecimalDottedString(s),n.IPv4Prefix.fromNumber(u))}getSize(){return this.cidrPrefix.toRangeSize()}toCidrString(){return`${this.getFirst().toString()}/${this.cidrPrefix.toString()}`}toRangeString(){return super.toRangeString()}getFirst(){return i.IPv4.fromNumber(this.ipv4.getValue()&this.cidrPrefix.toMask().getValue())}getLast(){return h(this,this.ipv4)}newInstance(t,e){return new l(t,e)}getPrefix(){return this.cidrPrefix}isConsecutive(t){return super.isConsecutive(t)}contains(t){return super.contains(t)}inside(t){return super.inside(t)}isOverlapping(t){return super.isOverlapping(t)}take(t){let e=[this.getFirst()],r=this.getFirst();if(t>this.getSize()){let e=o.Validator.takeOutOfRangeSizeMessage.replace("$count",t.toString()).replace("$size",this.getSize().toString());throw new Error(e)}for(let i=0;i<t-1n;i++)e.push(r.nextIPNumber()),r=r.nextIPNumber();return e}split(){let t=this.cidrPrefix.getValue();if(32n===t)throw new Error("Cannot split an IP range with a single IP number");let e=n.IPv4Prefix.fromNumber(t+1n),r=this.getFirst(),i=new l(r,e),a=i.getLast().nextIPNumber();return[i,new l(a,e)]}splitInto(t){let e=t.getValue()-this.cidrPrefix.getValue();if(e<0)throw new Error("Prefix to split into is larger than source prefix");if(0n===e)return[new l(this.getFirst(),t)];if(1n===e)return this.split();{let t=this.split();for(;e>1;)t=t.flatMap(t=>t.split()),e-=1n;return t}}hasNextRange(){return super.hasNextRange()}hasPreviousRange(){return super.hasPreviousRange()}nextRange(){if(this.hasNextRange()){let t=this.getSize(),e=this.getFirst().getValue()+t;return new l(new i.IPv4(e),this.cidrPrefix)}}previousRange(){if(this.hasPreviousRange()){let t=this.getSize(),e=this.getFirst().getValue()-t;return new l(new i.IPv4(e),this.cidrPrefix)}}}e.IPv4CidrRange=l;class g extends u{constructor(t,e){super(),this.ipv6=t,this.cidrPrefix=e,this.bitValue=128n}static fromCidr(t){let[e,r]=o.Validator.isValidIPv6CidrNotation(t);if(!e)throw new Error(r.filter(t=>""!==t).toString());let a=t.split("/"),s=a[0],u=BigInt(parseInt(a[1]));return new g(i.IPv6.fromHexadecatet(s),n.IPv6Prefix.fromNumber(u))}getSize(){return this.cidrPrefix.toRangeSize()}toCidrString(){return`${this.getFirst().toString()}/${this.cidrPrefix.toString()}`}toRangeString(){return super.toRangeString()}getFirst(){return i.IPv6.fromBigInt(this.ipv6.getValue()&this.cidrPrefix.toMask().getValue())}getLast(){return h(this,this.ipv6)}newInstance(t,e){return new g(t,e)}getPrefix(){return this.cidrPrefix}isConsecutive(t){return super.isConsecutive(t)}contains(t){return super.contains(t)}inside(t){return super.inside(t)}isOverlapping(t){return super.isOverlapping(t)}take(t){let e=[this.getFirst()],r=this.getFirst();if(t>this.getSize())throw new Error(`${t.toString()} is greater than ${this.getSize().toString()}, the size of the range`);for(var i=0;i<t-1n;i++)e.push(r.nextIPNumber()),r=r.nextIPNumber();return e}split(){let t=this.cidrPrefix.getValue();if(128n===t)throw new Error("Cannot split an IP range with a single IP number");let e=n.IPv6Prefix.fromNumber(t+1n),r=this.getFirst(),i=new g(r,e),a=i.getLast().nextIPNumber();return[i,new g(a,e)]}splitInto(t){let e=t.getValue()-this.cidrPrefix.getValue();if(e<0)throw new Error("Prefix to split into is larger than source prefix");if(0n===e)return[new g(this.getFirst(),t)];if(1n===e)return this.split();{let t=this.split();for(;e>1;)t=t.flatMap(t=>t.split()),e-=1n;return t}}hasNextRange(){return super.hasNextRange()}hasPreviousRange(){return super.hasPreviousRange()}nextRange(){if(this.hasNextRange()){let t=this.getSize(),e=this.getFirst().getValue()+t;return new g(new i.IPv6(e),this.cidrPrefix)}}previousRange(){if(this.hasPreviousRange()){let t=this.getSize(),e=this.getFirst().getValue()-t;return new g(new i.IPv6(e),this.cidrPrefix)}}}e.IPv6CidrRange=g;let h=(t,e)=>{let r=Number(t.bitValue.valueOf()),n=BigInt("0b"+"1".repeat(r)),o=t.cidrPrefix.toMask().getValue(),s=a.leftPadWithZeroBit((o^n).toString(2),r);return p(t)?i.IPv4.fromNumber(e.getValue()|a.parseBinaryStringToBigInt(s)):i.IPv6.fromBigInt(e.getValue()|a.parseBinaryStringToBigInt(s))};function p(t){return 32n===t.bitValue.valueOf()}e.isIPv4CidrRange=p},function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||i(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),n(r(0),e),n(r(4),e),n(r(2),e),n(r(5),e),n(r(12),e),n(r(13),e),n(r(8),e),n(r(3),e),n(r(7),e),n(r(6),e),n(r(1),e)},function(t,e,r){(function(t){var i,n=function(t){"use strict";var e=1e7,r=9007199254740992,i=h(r),a="function"==typeof BigInt;function o(t,e,r,i){return void 0===t?o[0]:void 0!==e&&(10!=+e||r)?L(t,e,r,i):j(t)}function s(t,e){this.value=t,this.sign=e,this.isSmall=!1}function u(t){this.value=t,this.sign=t<0,this.isSmall=!0}function l(t){this.value=t}function g(t){return-r<t&&t<r}function h(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function p(t){f(t);var r=t.length;if(r<4&&R(t,i)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function f(t){for(var e=t.length;0===t[--e];);t.length=e+1}function c(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function d(t){return t>0?Math.floor(t):Math.ceil(t)}function v(t,r){var i,n,a=t.length,o=r.length,s=new Array(a),u=0,l=e;for(n=0;n<o;n++)u=(i=t[n]+r[n]+u)>=l?1:0,s[n]=i-u*l;for(;n<a;)u=(i=t[n]+u)===l?1:0,s[n++]=i-u*l;return u>0&&s.push(u),s}function m(t,e){return t.length>=e.length?v(t,e):v(e,t)}function y(t,r){var i,n,a=t.length,o=new Array(a),s=e;for(n=0;n<a;n++)i=t[n]-s+r,r=Math.floor(i/s),o[n]=i-r*s,r+=1;for(;r>0;)o[n++]=r%s,r=Math.floor(r/s);return o}function S(t,e){var r,i,n=t.length,a=e.length,o=new Array(n),s=0;for(r=0;r<a;r++)(i=t[r]-s-e[r])<0?(i+=1e7,s=1):s=0,o[r]=i;for(r=a;r<n;r++){if(!((i=t[r]-s)<0)){o[r++]=i;break}i+=1e7,o[r]=i}for(;r<n;r++)o[r]=t[r];return f(o),o}function I(t,e,r){var i,n,a=t.length,o=new Array(a),l=-e;for(i=0;i<a;i++)n=t[i]+l,l=Math.floor(n/1e7),n%=1e7,o[i]=n<0?n+1e7:n;return"number"==typeof(o=p(o))?(r&&(o=-o),new u(o)):new s(o,r)}function P(t,e){var r,i,n,a,o=t.length,s=e.length,u=c(o+s);for(n=0;n<o;++n){a=t[n];for(var l=0;l<s;++l)r=a*e[l]+u[n+l],i=Math.floor(r/1e7),u[n+l]=r-1e7*i,u[n+l+1]+=i}return f(u),u}function b(t,r){var i,n,a=t.length,o=new Array(a),s=e,u=0;for(n=0;n<a;n++)i=t[n]*r+u,u=Math.floor(i/s),o[n]=i-u*s;for(;u>0;)o[n++]=u%s,u=Math.floor(u/s);return o}function w(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function x(t,r,i){return new s(t<e?b(r,t):P(r,h(t)),i)}function N(t){var e,r,i,n,a=t.length,o=c(a+a);for(i=0;i<a;i++){r=0-(n=t[i])*n;for(var s=i;s<a;s++)e=n*t[s]*2+o[i+s]+r,r=Math.floor(e/1e7),o[i+s]=e-1e7*r;o[i+a]=r}return f(o),o}function B(t,e){var r,i,n,a,o=t.length,s=c(o);for(n=0,r=o-1;r>=0;--r)n=(a=1e7*n+t[r])-(i=d(a/e))*e,s[r]=0|i;return[s,0|n]}function E(t,r){var i,n=j(r);if(a)return[new l(t.value/n.value),new l(t.value%n.value)];var g,v=t.value,m=n.value;if(0===m)throw new Error("Cannot divide by zero");if(t.isSmall)return n.isSmall?[new u(d(v/m)),new u(v%m)]:[o[0],t];if(n.isSmall){if(1===m)return[t,o[0]];if(-1==m)return[t.negate(),o[0]];var y=Math.abs(m);if(y<e){g=p((i=B(v,y))[0]);var I=i[1];return t.sign&&(I=-I),"number"==typeof g?(t.sign!==n.sign&&(g=-g),[new u(g),new u(I)]):[new s(g,t.sign!==n.sign),new u(I)]}m=h(y)}var P=R(v,m);if(-1===P)return[o[0],t];if(0===P)return[o[t.sign===n.sign?1:-1],o[0]];g=(i=v.length+m.length<=200?function(t,r){var i,n,a,o,s,u,l,g=t.length,h=r.length,f=e,d=c(r.length),v=r[h-1],m=Math.ceil(f/(2*v)),y=b(t,m),S=b(r,m);for(y.length<=g&&y.push(0),S.push(0),v=S[h-1],n=g-h;n>=0;n--){for(i=f-1,y[n+h]!==v&&(i=Math.floor((y[n+h]*f+y[n+h-1])/v)),a=0,o=0,u=S.length,s=0;s<u;s++)a+=i*S[s],l=Math.floor(a/f),o+=y[n+s]-(a-l*f),a=l,o<0?(y[n+s]=o+f,o=-1):(y[n+s]=o,o=0);for(;0!==o;){for(i-=1,a=0,s=0;s<u;s++)(a+=y[n+s]-f+S[s])<0?(y[n+s]=a+f,a=0):(y[n+s]=a,a=1);o+=a}d[n]=i}return y=B(y,m)[0],[p(d),p(y)]}(v,m):function(t,e){for(var r,i,n,a,o,s=t.length,u=e.length,l=[],g=[];s;)if(g.unshift(t[--s]),f(g),R(g,e)<0)l.push(0);else{n=1e7*g[(i=g.length)-1]+g[i-2],a=1e7*e[u-1]+e[u-2],i>u&&(n=1e7*(n+1)),r=Math.ceil(n/a);do{if(R(o=b(e,r),g)<=0)break;r--}while(r);l.push(r),g=S(g,o)}return l.reverse(),[p(l),p(g)]}(v,m))[0];var w=t.sign!==n.sign,x=i[1],N=t.sign;return"number"==typeof g?(w&&(g=-g),g=new u(g)):g=new s(g,w),"number"==typeof x?(N&&(x=-x),x=new u(x)):x=new s(x,N),[g,x]}function R(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function T(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function V(t,e){for(var r,i,a,o=t.prev(),s=o,u=0;s.isEven();)s=s.divide(2),u++;t:for(i=0;i<e.length;i++)if(!t.lesser(e[i])&&!(a=n(e[i]).modPow(s,t)).isUnit()&&!a.equals(o)){for(r=u-1;0!=r;r--){if((a=a.square().mod(t)).isUnit())return!1;if(a.equals(o))continue t}return!1}return!0}s.prototype=Object.create(o.prototype),u.prototype=Object.create(o.prototype),l.prototype=Object.create(o.prototype),s.prototype.add=function(t){var e=j(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,i=e.value;return e.isSmall?new s(y(r,Math.abs(i)),this.sign):new s(m(r,i),this.sign)},s.prototype.plus=s.prototype.add,u.prototype.add=function(t){var e=j(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var i=e.value;if(e.isSmall){if(g(r+i))return new u(r+i);i=h(Math.abs(i))}return new s(y(i,Math.abs(r)),r<0)},u.prototype.plus=u.prototype.add,l.prototype.add=function(t){return new l(this.value+j(t).value)},l.prototype.plus=l.prototype.add,s.prototype.subtract=function(t){var e=j(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,i=e.value;return e.isSmall?I(r,Math.abs(i),this.sign):function(t,e,r){var i;return R(t,e)>=0?i=S(t,e):(i=S(e,t),r=!r),"number"==typeof(i=p(i))?(r&&(i=-i),new u(i)):new s(i,r)}(r,i,this.sign)},s.prototype.minus=s.prototype.subtract,u.prototype.subtract=function(t){var e=j(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var i=e.value;return e.isSmall?new u(r-i):I(i,Math.abs(r),r>=0)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(t){return new l(this.value-j(t).value)},l.prototype.minus=l.prototype.subtract,s.prototype.negate=function(){return new s(this.value,!this.sign)},u.prototype.negate=function(){var t=this.sign,e=new u(-this.value);return e.sign=!t,e},l.prototype.negate=function(){return new l(-this.value)},s.prototype.abs=function(){return new s(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},s.prototype.multiply=function(t){var r,i,n,a=j(t),u=this.value,l=a.value,g=this.sign!==a.sign;if(a.isSmall){if(0===l)return o[0];if(1===l)return this;if(-1===l)return this.negate();if((r=Math.abs(l))<e)return new s(b(u,r),g);l=h(r)}return i=u.length,n=l.length,new s(-.012*i-.012*n+15e-6*i*n>0?function t(e,r){var i=Math.max(e.length,r.length);if(i<=30)return P(e,r);i=Math.ceil(i/2);var n=e.slice(i),a=e.slice(0,i),o=r.slice(i),s=r.slice(0,i),u=t(a,s),l=t(n,o),g=t(m(a,n),m(s,o)),h=m(m(u,w(S(S(g,u),l),i)),w(l,2*i));return f(h),h}(u,l):P(u,l),g)},s.prototype.times=s.prototype.multiply,u.prototype._multiplyBySmall=function(t){return g(t.value*this.value)?new u(t.value*this.value):x(Math.abs(t.value),h(Math.abs(this.value)),this.sign!==t.sign)},s.prototype._multiplyBySmall=function(t){return 0===t.value?o[0]:1===t.value?this:-1===t.value?this.negate():x(Math.abs(t.value),this.value,this.sign!==t.sign)},u.prototype.multiply=function(t){return j(t)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,l.prototype.multiply=function(t){return new l(this.value*j(t).value)},l.prototype.times=l.prototype.multiply,s.prototype.square=function(){return new s(N(this.value),!1)},u.prototype.square=function(){var t=this.value*this.value;return g(t)?new u(t):new s(N(h(Math.abs(this.value))),!1)},l.prototype.square=function(t){return new l(this.value*this.value)},s.prototype.divmod=function(t){var e=E(this,t);return{quotient:e[0],remainder:e[1]}},l.prototype.divmod=u.prototype.divmod=s.prototype.divmod,s.prototype.divide=function(t){return E(this,t)[0]},l.prototype.over=l.prototype.divide=function(t){return new l(this.value/j(t).value)},u.prototype.over=u.prototype.divide=s.prototype.over=s.prototype.divide,s.prototype.mod=function(t){return E(this,t)[1]},l.prototype.mod=l.prototype.remainder=function(t){return new l(this.value%j(t).value)},u.prototype.remainder=u.prototype.mod=s.prototype.remainder=s.prototype.mod,s.prototype.pow=function(t){var e,r,i,n=j(t),a=this.value,s=n.value;if(0===s)return o[1];if(0===a)return o[0];if(1===a)return o[1];if(-1===a)return n.isEven()?o[1]:o[-1];if(n.sign)return o[0];if(!n.isSmall)throw new Error("The exponent "+n.toString()+" is too large.");if(this.isSmall&&g(e=Math.pow(a,s)))return new u(d(e));for(r=this,i=o[1];!0&s&&(i=i.times(r),--s),0!==s;)s/=2,r=r.square();return i},u.prototype.pow=s.prototype.pow,l.prototype.pow=function(t){var e=j(t),r=this.value,i=e.value,n=BigInt(0),a=BigInt(1),s=BigInt(2);if(i===n)return o[1];if(r===n)return o[0];if(r===a)return o[1];if(r===BigInt(-1))return e.isEven()?o[1]:o[-1];if(e.isNegative())return new l(n);for(var u=this,g=o[1];(i&a)===a&&(g=g.times(u),--i),i!==n;)i/=s,u=u.square();return g},s.prototype.modPow=function(t,e){if(t=j(t),(e=j(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=o[1],i=this.mod(e);for(t.isNegative()&&(t=t.multiply(o[-1]),i=i.modInv(e));t.isPositive();){if(i.isZero())return o[0];t.isOdd()&&(r=r.multiply(i).mod(e)),t=t.divide(2),i=i.square().mod(e)}return r},l.prototype.modPow=u.prototype.modPow=s.prototype.modPow,s.prototype.compareAbs=function(t){var e=j(t),r=this.value,i=e.value;return e.isSmall?1:R(r,i)},u.prototype.compareAbs=function(t){var e=j(t),r=Math.abs(this.value),i=e.value;return e.isSmall?r===(i=Math.abs(i))?0:r>i?1:-1:-1},l.prototype.compareAbs=function(t){var e=this.value,r=j(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=j(t),r=this.value,i=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:R(r,i)*(this.sign?-1:1)},s.prototype.compareTo=s.prototype.compare,u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=j(t),r=this.value,i=e.value;return e.isSmall?r==i?0:r>i?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},u.prototype.compareTo=u.prototype.compare,l.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,r=j(t).value;return e===r?0:e>r?1:-1},l.prototype.compareTo=l.prototype.compare,s.prototype.equals=function(t){return 0===this.compare(t)},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals=s.prototype.eq=s.prototype.equals,s.prototype.notEquals=function(t){return 0!==this.compare(t)},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=s.prototype.neq=s.prototype.notEquals,s.prototype.greater=function(t){return this.compare(t)>0},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater=s.prototype.gt=s.prototype.greater,s.prototype.lesser=function(t){return this.compare(t)<0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser=s.prototype.lt=s.prototype.lesser,s.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals,s.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals,s.prototype.isEven=function(){return 0==(1&this.value[0])},u.prototype.isEven=function(){return 0==(1&this.value)},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},s.prototype.isOdd=function(){return 1==(1&this.value[0])},u.prototype.isOdd=function(){return 1==(1&this.value)},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},s.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=u.prototype.isPositive,s.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=u.prototype.isNegative,s.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},s.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},s.prototype.isDivisibleBy=function(t){var e=j(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy=s.prototype.isDivisibleBy,s.prototype.isPrime=function(t){var e=T(this);if(void 0!==e)return e;var r=this.abs(),i=r.bitLength();if(i<=64)return V(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var a=Math.log(2)*i.toJSNumber(),o=Math.ceil(!0===t?2*Math.pow(a,2):a),s=[],u=0;u<o;u++)s.push(n(u+2));return V(r,s)},l.prototype.isPrime=u.prototype.isPrime=s.prototype.isPrime,s.prototype.isProbablePrime=function(t,e){var r=T(this);if(void 0!==r)return r;for(var i=this.abs(),a=void 0===t?5:t,o=[],s=0;s<a;s++)o.push(n.randBetween(2,i.minus(2),e));return V(i,o)},l.prototype.isProbablePrime=u.prototype.isProbablePrime=s.prototype.isProbablePrime,s.prototype.modInv=function(t){for(var e,r,i,a=n.zero,o=n.one,s=j(t),u=this.abs();!u.isZero();)e=s.divide(u),r=a,i=s,a=o,s=u,o=r.subtract(e.multiply(o)),u=i.subtract(e.multiply(u));if(!s.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===a.compare(0)&&(a=a.add(t)),this.isNegative()?a.negate():a},l.prototype.modInv=u.prototype.modInv=s.prototype.modInv,s.prototype.next=function(){var t=this.value;return this.sign?I(t,1,this.sign):new s(y(t,1),this.sign)},u.prototype.next=function(){var t=this.value;return t+1<r?new u(t+1):new s(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},s.prototype.prev=function(){var t=this.value;return this.sign?new s(y(t,1),!0):I(t,1,this.sign)},u.prototype.prev=function(){var t=this.value;return t-1>-r?new u(t-1):new s(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var A=[1];2*A[A.length-1]<=e;)A.push(2*A[A.length-1]);var M=A.length,F=A[M-1];function O(t){return Math.abs(t)<=e}function _(t,e,r){e=j(e);for(var i=t.isNegative(),a=e.isNegative(),o=i?t.not():t,s=a?e.not():e,u=0,l=0,g=null,h=null,p=[];!o.isZero()||!s.isZero();)u=(g=E(o,F))[1].toJSNumber(),i&&(u=F-1-u),l=(h=E(s,F))[1].toJSNumber(),a&&(l=F-1-l),o=g[0],s=h[0],p.push(r(u,l));for(var f=0!==r(i?1:0,a?1:0)?n(-1):n(0),c=p.length-1;c>=0;c-=1)f=f.multiply(F).add(n(p[c]));return f}s.prototype.shiftLeft=function(t){var e=j(t).toJSNumber();if(!O(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=M;)r=r.multiply(F),e-=M-1;return r.multiply(A[e])},l.prototype.shiftLeft=u.prototype.shiftLeft=s.prototype.shiftLeft,s.prototype.shiftRight=function(t){var e,r=j(t).toJSNumber();if(!O(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var i=this;r>=M;){if(i.isZero()||i.isNegative()&&i.isUnit())return i;i=(e=E(i,F))[1].isNegative()?e[0].prev():e[0],r-=M-1}return(e=E(i,A[r]))[1].isNegative()?e[0].prev():e[0]},l.prototype.shiftRight=u.prototype.shiftRight=s.prototype.shiftRight,s.prototype.not=function(){return this.negate().prev()},l.prototype.not=u.prototype.not=s.prototype.not,s.prototype.and=function(t){return _(this,t,(function(t,e){return t&e}))},l.prototype.and=u.prototype.and=s.prototype.and,s.prototype.or=function(t){return _(this,t,(function(t,e){return t|e}))},l.prototype.or=u.prototype.or=s.prototype.or,s.prototype.xor=function(t){return _(this,t,(function(t,e){return t^e}))},l.prototype.xor=u.prototype.xor=s.prototype.xor;function z(t){var r=t.value,i="number"==typeof r?r|1<<30:"bigint"==typeof r?r|BigInt(1<<30):r[0]+r[1]*e|1073758208;return i&-i}function C(t,e){return t=j(t),e=j(e),t.greater(e)?t:e}function q(t,e){return t=j(t),e=j(e),t.lesser(e)?t:e}function k(t,e){if(t=j(t).abs(),e=j(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,i,n=o[1];t.isEven()&&e.isEven();)r=q(z(t),z(e)),t=t.divide(r),e=e.divide(r),n=n.multiply(r);for(;t.isEven();)t=t.divide(z(t));do{for(;e.isEven();)e=e.divide(z(e));t.greater(e)&&(i=e,e=t,t=i),e=e.subtract(t)}while(!e.isZero());return n.isUnit()?t:t.multiply(n)}s.prototype.bitLength=function(){var t=this;return t.compareTo(n(0))<0&&(t=t.negate().subtract(n(1))),0===t.compareTo(n(0))?n(0):n(function t(e,r){if(r.compareTo(e)<=0){var i=t(e,r.square(r)),a=i.p,o=i.e,s=a.multiply(r);return s.compareTo(e)<=0?{p:s,e:2*o+1}:{p:a,e:2*o}}return{p:n(1),e:0}}(t,n(2)).e).add(n(1))},l.prototype.bitLength=u.prototype.bitLength=s.prototype.bitLength;var L=function(t,e,r,i){r=r||"0123456789abcdefghijklmnopqrstuvwxyz",t=String(t),i||(t=t.toLowerCase(),r=r.toLowerCase());var n,a=t.length,o=Math.abs(e),s={};for(n=0;n<r.length;n++)s[r[n]]=n;for(n=0;n<a;n++){if("-"!==(g=t[n])&&(g in s&&s[g]>=o)){if("1"===g&&1===o)continue;throw new Error(g+" is not a valid digit in base "+e+".")}}e=j(e);var u=[],l="-"===t[0];for(n=l?1:0;n<t.length;n++){var g;if((g=t[n])in s)u.push(j(s[g]));else{if("<"!==g)throw new Error(g+" is not a valid character");var h=n;do{n++}while(">"!==t[n]&&n<t.length);u.push(j(t.slice(h+1,n)))}}return D(u,e,l)};function D(t,e,r){var i,n=o[0],a=o[1];for(i=t.length-1;i>=0;i--)n=n.add(t[i].times(a)),a=a.times(e);return r?n.negate():n}function H(t,e){if((e=n(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var i=!1;if(t.isNegative()&&e.isPositive()&&(i=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:i};for(var a,o=[],s=t;s.isNegative()||s.compareAbs(e)>=0;){a=s.divmod(e),s=a.quotient;var u=a.remainder;u.isNegative()&&(u=e.minus(u).abs(),s=s.next()),o.push(u.toJSNumber())}return o.push(s.toJSNumber()),{value:o.reverse(),isNegative:i}}function $(t,e,r){var i=H(t,e);return(i.isNegative?"-":"")+i.value.map((function(t){return function(t,e){return t<(e=e||"0123456789abcdefghijklmnopqrstuvwxyz").length?e[t]:"<"+t+">"}(t,r)})).join("")}function Z(t){if(g(+t)){var e=+t;if(e===d(e))return a?new l(BigInt(e)):new u(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var i=t.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var n=i[1];if("+"===n[0]&&(n=n.slice(1)),(n=+n)!==d(n)||!g(n))throw new Error("Invalid integer: "+n+" is not a valid exponent.");var o=i[0],h=o.indexOf(".");if(h>=0&&(n-=o.length-h-1,o=o.slice(0,h)+o.slice(h+1)),n<0)throw new Error("Cannot include negative exponent part for integers");t=o+=new Array(n+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(a)return new l(BigInt(r?"-"+t:t));for(var p=[],c=t.length,v=c-7;c>0;)p.push(+t.slice(v,c)),(v-=7)<0&&(v=0),c-=7;return f(p),new s(p,r)}function j(t){return"number"==typeof t?function(t){if(a)return new l(BigInt(t));if(g(t)){if(t!==d(t))throw new Error(t+" is not an integer.");return new u(t)}return Z(t.toString())}(t):"string"==typeof t?Z(t):"bigint"==typeof t?new l(t):t}s.prototype.toArray=function(t){return H(this,t)},u.prototype.toArray=function(t){return H(this,t)},l.prototype.toArray=function(t){return H(this,t)},s.prototype.toString=function(t,e){if(void 0===t&&(t=10),10!==t)return $(this,t,e);for(var r,i=this.value,n=i.length,a=String(i[--n]);--n>=0;)r=String(i[n]),a+="0000000".slice(r.length)+r;return(this.sign?"-":"")+a},u.prototype.toString=function(t,e){return void 0===t&&(t=10),10!=t?$(this,t,e):String(this.value)},l.prototype.toString=u.prototype.toString,l.prototype.toJSON=s.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},s.prototype.valueOf=function(){return parseInt(this.toString(),10)},s.prototype.toJSNumber=s.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var G=0;G<1e3;G++)o[G]=j(G),G>0&&(o[-G]=j(-G));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=C,o.min=q,o.gcd=k,o.lcm=function(t,e){return t=j(t).abs(),e=j(e).abs(),t.divide(k(t,e)).multiply(e)},o.isInstance=function(t){return t instanceof s||t instanceof u||t instanceof l},o.randBetween=function(t,r,i){t=j(t),r=j(r);var n=i||Math.random,a=q(t,r),s=C(t,r).subtract(a).add(1);if(s.isSmall)return a.add(Math.floor(n()*s));for(var u=H(s,e).value,l=[],g=!0,h=0;h<u.length;h++){var p=g?u[h]:e,f=d(n()*p);l.push(f),f<p&&(g=!1)}return a.add(o.fromArray(l,e,!1))},o.fromArray=function(t,e,r){return D(t.map(j),j(e||10),r)},o}();t.hasOwnProperty("exports")&&(t.exports=n),void 0===(i=function(){return n}.call(e,r,e,t))||(t.exports=i)}).call(this,r(11)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pool=void 0;const i=r(8),n=r(6);class a{constructor(t){this.backingSet=new o,t.forEach(t=>{this.backingSet.add(t)})}static fromIP(t){let e=t.map(t=>i.RangedSet.fromSingleIP(t));return new a(e)}static fromRangeSet(t){return new a(t)}static fromCidrRanges(t){let e=t.map(t=>t.toRangeSet());return new a(e)}getRanges(){return this.backingSet.asArray()}aggregate(){let t=this.backingSet.asArray().reduce((t,e,r,i)=>{if(0==t.length)return t.push(e),t;{let r=t.pop(),i=r.toCidrRange(),n=e.toCidrRange();if(i.isCidrMergeable(n)){let e=i.merge(n);return t.push(e.toRangeSet()),t}return r.contains(e)?t.push(r):(t.push(r),t.push(e)),t}},[]),e=a.fromRangeSet(t);return e.getRanges().length!==this.getRanges().length?e.aggregate():e}getCidrRange(t){if(t.toRangeSize()>this.getSize())throw new Error("Not enough IP number in the pool for requested prefix: "+t);let e,r;t:for(let i of this.getRanges())for(let n=0n;n+t.toRangeSize()<=i.getSize();n+=1n)try{let r=i.takeSubRange(n,t.toRangeSize());e=r.toCidrRange();let a=i.difference(r);this.removeExact(i),this.add(a);break t}catch(t){if(t instanceof RangeError)continue t;r=t}if(e)return e;throw void 0===r?new Error("No range big enough in the pool for requested prefix: "+t):r}getCidrRanges(t){if(t.toRangeSize()>this.getSize())throw new Error("Prefix greater than pool");let e=(t,r,i)=>{try{let n=this.getCidrRange(r);i.push(n);let a=i.reduce((t,e)=>t+e.getSize(),0n);return t.toRangeSize()===a?i:e(t,r,i)}catch(a){let o=n.isIPv4Prefix(r)?n.IPv4Prefix.fromNumber(r.getValue()+1n):n.IPv6Prefix.fromNumber(r.getValue()+1n);return e(t,o,i)}};return e(t,t,[])}getSize(){return this.aggregate().getRanges().reduce((t,e)=>t+e.getSize(),0n)}resetWith(t){this.backingSet.clear(),this.backingSet=this.backingSet.add(t)}removeExact(t){let e=this.backingSet.removeExact(t),r=!this.backingSet.isEquals(e);return this.backingSet=e,r}removeOverlapping(t){let e=this.backingSet.removeOverlapping(t),r=!this.backingSet.isEquals(e);return this.backingSet=e,r}add(t){this.backingSet=this.backingSet.add(t)}clear(){this.backingSet.clear()}}e.Pool=a;class o{constructor(t){this.backingArray=t?this.sortArray(t):new Array}sortArray(t){return t.sort((t,e)=>t.isLessThan(e)?-1:t.isGreaterThan(e)?1:0),t}asArray(){return this.backingArray}isEquals(t){return this.backingArray.length===t.asArray().length&&this.backingArray.every((e,r)=>e.getSize()===t.asArray()[r].getSize())}add(t){let e=this.backingArray;return"push"in t?e=e.concat(t):e.push(t),new o(this.sortArray(e))}removeExact(t){let e=this.backingArray.filter(e=>"push"in t?void 0!==t.find(t=>t.isEquals(e)):!t.isEquals(e));return new o(this.sortArray(e))}removeOverlapping(t){let e=this.backingArray.flatMap(e=>{if("push"in t)return t.flatMap(t=>e.contains(t)?e.difference(t):e.inside(t)?new Array:e.isOverlapping(t)?[e.subtract(t)]:[t]);try{return e.difference(t)}catch(t){return e}});return new o(this.sortArray(e))}clear(){this.backingArray=[]}}}]);
//# sourceMappingURL=ip-num.js.map 